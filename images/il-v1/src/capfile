# Capistrano rules auto-generated by Instant Linux

default_run_options[:pty] = true
ssh_options[:keys] = %w(~capi/.ssh/id_rsa)
role :capistrano_targets, "homebase.instantlinux.net","k2.ci.net"
role :monitoring_server, "monitor.ci.net"
role :ovulator_server, "k2.ci.net"
task :update_bind, :roles => "ovulator_server" do
  run "/var/lib/ilinux/actions/puppetinit_bind.sh"
end
task :update_capfile, :roles => "capistrano_targets" do
  run "/var/lib/ilinux/actions/gen_capfile.sh"
end
task :update_dhcp, :hosts => "cumbre.ci.net,k2.ci.net" do
  run "/var/lib/ilinux/actions/gen_dhcp.sh"
end
task :update_dns, :hosts => "k2.ci.net" do
  run "/var/lib/ilinux/actions/gen_dns.sh"
end
task :update_groups, :roles => "ovulator_server" do
  run "/var/lib/ilinux/actions/gen_groups.sh"
end
task :update_hosts, :roles => "ovulator_server" do
  run "/var/lib/ilinux/actions/gen_hosts.sh"
end
task :update_htpasswd, :roles => "ovulator_server" do
  run "/var/lib/ilinux/actions/gen_htpasswd.sh build logs svnusers sysadmin"
end
task :update_munin, :roles => "monitoring_server" do
  run "/var/lib/ilinux/actions/gen_munin_hosts.sh"
end
task :update_packages, :roles => "ovulator_server" do
  run "/var/lib/ilinux/actions/gen_packages.sh"
end
task :update_puppet, :roles => "ovulator_server" do
  run "/var/lib/ilinux/actions/gen_puppetinit.sh"
end
task :update_pxe, :roles => "ovulator_server" do
  run "/var/lib/ilinux/actions/gen_pxe.sh"
end
task :update_ssh_known, :roles => "ovulator_server" do
  run "/var/lib/ilinux/actions/gen_ssh_known.sh"
end
task :update_svngroups do
  run "/var/lib/ilinux/actions/gen_svngroups.sh"
end
task :update_templates, :hosts => "monitor.ci.net" do
  run "/var/lib/ilinux/actions/gen_templates.sh"
end
task :update_users, :roles => "ovulator_server" do
  run "/var/lib/ilinux/actions/gen_users.sh"
end
